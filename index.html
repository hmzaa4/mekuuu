<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>For Meku ‚ù§Ô∏è</title>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@600&family=Nunito:wght@400;700&display=swap" rel="stylesheet">

  <style>
    :root { --primary: #ff4d6d; --bg: #fff0f3; --glass: rgba(255, 255, 255, 0.9); }
    
    * { box-sizing: border-box; }
    body {
      margin: 0; height: 100vh; overflow: hidden;
      background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 99%, #fecfef 100%);
      font-family: 'Nunito', sans-serif;
      display: flex; justify-content: center; align-items: center;
    }

    /* BACKGROUND PARTICLES */
    .bg-heart { position: absolute; color: rgba(255, 255, 255, 0.5); animation: float 10s infinite linear; z-index: 0; }
    @keyframes float { from { transform: translateY(110vh) rotate(0deg); } to { transform: translateY(-10vh) rotate(360deg); } }

    /* CONTAINER */
    .app-container {
      position: relative; z-index: 10; width: 100%; max-width: 500px; height: 100vh;
      display: flex; flex-direction: column; justify-content: center; align-items: center;
    }

    /* SCENE 1: ENVELOPE */
    #scene-envelope { cursor: pointer; transition: 0.5s; }
    .envelope {
      width: 300px; height: 200px; background: #ff4d6d; position: relative;
      border-radius: 10px; display: flex; justify-content: center; align-items: center;
      box-shadow: 0 15px 35px rgba(0,0,0,0.2);
    }
    .envelope::before { /* Flap */
      content:''; position: absolute; top: 0; width: 0; height: 0;
      border-left: 150px solid transparent; border-right: 150px solid transparent;
      border-top: 100px solid #ff758f; z-index: 5;
    }
    .heart-seal { font-size: 60px; z-index: 6; color: #fff; text-shadow: 0 5px 10px rgba(0,0,0,0.2); animation: beat 1.5s infinite; }
    .click-hint { margin-top: 20px; color: white; font-weight: bold; opacity: 0.8; animation: fade 2s infinite; }

    /* SCENE 2: SLIDESHOW */
    #scene-slideshow { display: none; width: 90%; }
    .slide-card {
      background: var(--glass); padding: 40px 20px; border-radius: 30px;
      text-align: center; box-shadow: 0 10px 40px rgba(0,0,0,0.1);
      animation: slideUp 0.8s cubic-bezier(0.16, 1, 0.3, 1);
    }
    .slide-number { font-family: 'Dancing Script', cursive; color: var(--primary); font-size: 30px; margin-bottom: 10px; }
    .slide-text { font-size: 22px; color: #444; line-height: 1.6; margin-bottom: 30px; }
    .nav-btn {
      background: var(--primary); color: white; border: none; padding: 12px 30px;
      border-radius: 50px; font-size: 18px; cursor: pointer; transition: 0.2s;
    }

    /* SCENE 3: PROPOSAL */
    #scene-proposal { display: none; width: 90%; text-align: center; }
    .proposal-box {
      background: rgba(255,255,255,0.95); padding: 40px; border-radius: 40px;
      box-shadow: 0 20px 60px rgba(255,77,109,0.2);
    }
    .big-question {
      font-family: 'Dancing Script', cursive; font-size: 45px; color: var(--primary); margin: 0;
    }
    .sub-text { color: #666; margin-bottom: 40px; }
    .buttons { position: relative; height: 100px; display: flex; justify-content: center; gap: 20px; }
    .btn-yes { background: #2ecc71; color: white; }
    .btn-no { background: #e74c3c; color: white; position: absolute; } /* Absolute for moving */
    .action-btn {
      padding: 15px 40px; font-size: 20px; font-weight: bold; border-radius: 50px;
      border: none; cursor: pointer; box-shadow: 0 5px 15px rgba(0,0,0,0.1); transition: 0.3s;
    }

    /* SCENE 4: SUCCESS */
    #scene-success { display: none; width: 95%; text-align: center; }
    .ticket {
      background: white; border-radius: 20px; overflow: hidden;
      box-shadow: 0 10px 30px rgba(0,0,0,0.15); margin: 20px auto;
      max-width: 350px; border: 2px dashed var(--primary);
    }
    .ticket-header { background: var(--primary); color: white; padding: 15px; font-size: 24px; font-family: 'Dancing Script'; }
    .ticket-body { padding: 20px; text-align: left; }
    .ticket-row { display: flex; justify-content: space-between; margin-bottom: 15px; border-bottom: 1px solid #eee; padding-bottom: 5px; }
    .ticket-label { color: #888; font-size: 14px; }
    .ticket-val { font-weight: bold; color: #333; }

    /* ANIMATIONS */
    @keyframes beat { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.1); } }
    @keyframes slideUp { from { opacity: 0; transform: translateY(50px); } to { opacity: 1; transform: translateY(0); } }
    @keyframes fade { 0%, 100% { opacity: 0.5; } 50% { opacity: 1; } }

  </style>
</head>
<body>

  <div id="bg-hearts"></div>

  <div class="app-container">
    
    <div id="scene-envelope" onclick="openEnvelope()">
      <div class="envelope">
        <div class="heart-seal">üíå</div>
      </div>
      <div class="click-hint" style="text-align: center;">A message for Meku<br>(Tap to open)</div>
    </div>

    <div id="scene-slideshow">
      <div class="slide-card">
        <div class="slide-number" id="slide-count">Reason #1</div>
        <div class="slide-text" id="slide-msg">...</div>
        <button class="nav-btn" onclick="nextSlide()">Next &rarr;</button>
      </div>
    </div>

    <div id="scene-proposal">
      <div class="proposal-box">
        <h1 class="big-question">Meku...</h1>
        <p class="sub-text">Will you make me the happiest person and be my Valentine?</p>
        
        <div class="buttons">
          <button class="action-btn btn-yes" id="yesBtn" onclick="acceptLove()">YES! üíñ</button>
          <button class="action-btn btn-no" id="noBtn" onmouseover="moveButton()" ontouchstart="moveButton()">No</button>
        </div>
      </div>
    </div>

    <div id="scene-success">
      <h1 style="color: var(--primary); font-family: 'Dancing Script'; font-size: 50px; margin-bottom: 10px;">She said YES! üéâ</h1>
      <p>I love you so much!</p>
      
      <div class="ticket">
        <div class="ticket-header">Valentine's Date Ticket</div>
        <div class="ticket-body">
          <div class="ticket-row">
            <div><span class="ticket-label">Guest</span><br><span class="ticket-val">Meku (My Love)</span></div>
            <div style="text-align:right"><span class="ticket-label">Date</span><br><span class="ticket-val">Feb 14, 2026</span></div>
          </div>
          <div class="ticket-row">
             <div><span class="ticket-label">Event</span><br><span class="ticket-val">Dinner & Magic</span></div>
          </div>
          <div style="text-align: center; font-size: 12px; color: #aaa; margin-top: 10px;">ADMIT ONE ‚Ä¢ NON-REFUNDABLE ‚Ä¢ VALID FOREVER</div>
        </div>
      </div>
